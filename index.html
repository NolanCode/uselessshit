<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Random Discord Stuff</title>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<style>
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: sans-serif;
  background: linear-gradient(270deg, #8a2be2, #00008b);
  background-size: 400% 400%;
  animation: gradientAnimation 15s ease infinite alternate;
  overflow-x: hidden;
}

@keyframes gradientAnimation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* --- Title Section --- */
.title-section {
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
}

.title-section h1 {
  font-size: 3em;
  color: white;
  margin: 0;
}

.invisible-scroll {
  height: 50px; /* forces a tiny scroll */
}

/* --- Container for nickname generator --- */
.container {
  position: relative;
  left: 30px;
  top: 0;
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* --- Generate Button --- */
#generate-btn {
  padding: 15px;
  font-size: 1.2em;
  font-weight: bold;
  background: linear-gradient(45deg, #ff69b4, #ff8c00);
  border: none;
  border-radius: 12px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

#generate-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
}

#random-output {
  color: white;
  font-size: 1.2em;
  min-height: 30px;
}

/* --- Word Input and Buttons --- */
#word-input {
  padding: 10px;
  border-radius: 8px;
  border: none;
  outline: none;
  width: 100%;
}

button.action-btn {
  margin-top: 5px;
  padding: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  background: #00bfff;
  color: white;
  transition: all 0.3s ease;
}

button.action-btn:hover {
  background: #009acd;
}

/* --- Sliding Word List Panel --- */
#word-list-panel {
  position: fixed;
  top: 50px;
  left: -300px; /* hidden initially */
  width: 300px;
  max-height: 80%;
  overflow-y: auto;
  background: white;
  color: black;
  padding: 10px;
  border-radius: 0 12px 12px 0;
  box-shadow: 4px 0 10px rgba(0,0,0,0.3);
  transition: left 0.3s ease;
  z-index: 1000;
}

#word-list-panel ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

#word-list-panel li {
  padding: 5px 0;
  border-bottom: 1px solid #ddd;
  cursor: pointer;
  transition: color 0.2s ease;
}

#word-list-panel li:hover {
  color: red;
}

/* --- Teleport Icon --- */
#teleport-icon {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background: url('https://cdn-icons-png.flaticon.com/512/60/60740.png') no-repeat center/contain;
}
</style>
</head>
<body>

<!-- Title -->
<div class="title-section">
  <h1>Random Discord Stuff</h1>
  <div class="invisible-scroll"></div>
</div>

<!-- Teleport Icon -->
<div id="teleport-icon" title="Sections"></div>

<!-- Nickname Generator -->
<div class="container" id="nickname-container">
  <button id="generate-btn">Generate Nickname</button>
  <div id="random-output">???</div>
  <input type="text" id="word-input" placeholder="Enter word here...">
  <button class="action-btn" id="add-word-btn">Add Word</button>
  <button class="action-btn" id="show-list-btn">Show List</button>
</div>

<!-- Sliding Word List -->
<div id="word-list-panel">
  <ul id="word-list-ul"></ul>
</div>

<script>
// --- Firebase Setup ---
// Replace with your Firebase project config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const wordCollection = db.collection('words');

const wordInput = document.getElementById('word-input');
const addWordBtn = document.getElementById('add-word-btn');
const showListBtn = document.getElementById('show-list-btn');
const wordListPanel = document.getElementById('word-list-panel');
const wordListUL = document.getElementById('word-list-ul');
const generateBtn = document.getElementById('generate-btn');
const randomOutput = document.getElementById('random-output');
const nicknameContainer = document.getElementById('nickname-container');
const teleportIcon = document.getElementById('teleport-icon');

let words = [];
let clickCount = 0;

// Load words from Firestore
function loadWords() {
  wordCollection.get().then(snapshot => {
    words = [];
    wordListUL.innerHTML = '';
    snapshot.forEach(doc => {
      const word = doc.data().text;
      words.push(word);
      const li = document.createElement('li');
      li.textContent = word;
      li.dataset.id = doc.id;
      wordListUL.appendChild(li);
    });
  });
}

// Add word
addWordBtn.addEventListener('click', () => {
  const val = wordInput.value.trim();
  if(val) {
    wordCollection.add({ text: val }).then(() => {
      wordInput.value = '';
      loadWords();
    });
  }
});

// Delete word on click
wordListPanel.addEventListener('click', (e) => {
  if(e.target.tagName === 'LI') {
    const id = e.target.dataset.id;
    wordCollection.doc(id).delete().then(() => loadWords());
  }
});

// Show / hide list
showListBtn.addEventListener('click', () => {
  wordListPanel.style.left = '0';
  document.body.classList.add('showing-list');
});

// Hide list when clicking outside
document.addEventListener('click', (e) => {
  if(!wordListPanel.contains(e.target) && !showListBtn.contains(e.target)) {
    wordListPanel.style.left = '-300px';
    document.body.classList.remove('showing-list');
  }
});

// Generate nickname
generateBtn.addEventListener('click', () => {
  clickCount++;
  if(words.length > 0) {
    const n = Math.floor(Math.random() * 4) + 2; // 2-5 words
    let selected = [];
    for(let i=0;i<n;i++){
      selected.push(words[Math.floor(Math.random()*words.length)]);
    }
    const nickname = selected.join(' ');
    randomOutput.textContent = nickname;
  } else {
    randomOutput.textContent = '???';
  }
});

// Teleport icon scroll
teleportIcon.addEventListener('click', () => {
  nicknameContainer.scrollIntoView({ behavior: 'smooth' });
});

// Initial load
loadWords();
</script>

</body>
</html>
